# agent-sandbox configuration file
# Place this file at ~/.agent-sandbox.toml to configure default settings

[defaults]
# Default shell to use when connecting to sandboxes
# This will be used if no --shell option is provided
# Common options: "/bin/bash", "/usr/bin/fish", "/bin/zsh"
shell = "/usr/bin/fish"

# IMPORTANT: Make sure the shell is installed in your container!
# For new projects, fish is included by default.
# For existing projects, add fish to your .devcontainer/Dockerfile:
#
#   RUN apt-get update && apt-get install -y \
#       ... other packages ... \
#       fish \
#       && rm -rf /var/lib/apt/lists/*
#
# Then rebuild your sandbox:
#   agent-sandbox rm <sandbox-name>
#   agent-sandbox connect <sandbox-name>
#

[git]
# Git user configuration for sandboxes
# These settings will be applied to sandbox clones so commits
# made within sandboxes use the proper author information
name = "Your Name"
email = "your.email@example.com"

[shell]
# Commands to run before starting the shell when connecting to a sandbox
# Useful for setting up environment variables, hooks, etc.
init = [
    # Example: load direnv to get environment variables from .envrc (with fallback if not installed)
    # "command -v direnv >/dev/null && direnv allow && eval \"$(direnv export bash)\" || true",
    # Example: source a custom setup script
    # "source /workspace/.sandbox-init.sh",
]

[files]
# Mount files from host into containers (read-only)
# Format: "source:dest" where source is the host path and dest is the container path
# Source paths support ~ expansion
mounts = [
    # Example: mount opencode config
    # "~/.config/opencode/opencode.json:/root/.config/opencode/opencode.json",
    # Example: mount SSH keys (for git operations)
    # "~/.ssh:/root/.ssh",
]
